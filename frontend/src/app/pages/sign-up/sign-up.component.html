<section class="container">
    @if(showMessage()) {
        <p class="message" [class.showMessage]="slideInMessage()">{{ message() }}</p>
    }
    <div class="left"></div>
    <div class="right">
        <div class="header">
            <h2>SignUp to <ion-icon name="logo-sass" class="logo"></ion-icon></h2>
        </div>
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="names">
                <p class="input_field">
                    <label for="firstName">First Name</label>
                    <input id="firstName" name="name" type="text" placeholder="Enter your first name" formControlName="firstName">
                    @if(isFirstNameInvalid) {
                        <p class="error">3 characters minimum</p>
                    }
                </p>
                <p class="input_field">
                    <label for="lastName">Last Name</label>
                    <input id="lastName" name="lastName" type="text" placeholder="Enter your last name" formControlName="lastName">
                    @if(isLastNameInvalid) {
                        <p class="error">3 characters minimum</p>
                    }
                </p>
            </div>
            <div class="input_field">
                <label for="lastName">Email</label>
                <input id="email" name="name" type="email" placeholder="Enter your last name" formControlName="email">
                @if(showErrorMessasge()) {
                    <p class="error">{{ errorMessage() }}</p>
                }
                @if (isEmailIvalid) {
                    <p class="error">Please enter a valid email. </p>
                }
            </div>
            <div class="input_field">
                <label for="lastName">Create A Password</label>
                <div class="input">
                    <input id="password" name="name" type="password" placeholder="Enter your last name" formControlName="password">
                    <ion-icon name="eye-outline"></ion-icon>
                </div>
            </div>
            <div class="input_field">
                <label for="lastName">Confirm Password</label>
                <div class="input">
                    <input id="confirmPassword" name="name" type="password" placeholder="Enter your last name" formControlName="confirmPassword">
                    <ion-icon name="eye-outline"></ion-icon>
                </div> 
            </div>
            <button type="submit" class="btn" [disabled]="form.invalid || isLoading()">
                <span [class.hidden]="isLoading()">Sign Up</span>
                <span class="loader" [class.hidden]="!isLoading()"></span>
            </button>
        </form>
        <p class="login-text">Already have an accoun? <a routerLink="/sign-in">Login</a></p>
    </div>
</section>